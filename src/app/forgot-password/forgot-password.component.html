<ng-container *ngIf="!isTokenSet; else toVerify">
    <h1>Recuperar contraseña</h1>
    <form class="email-form emailCard" (submit)="clickSubmitEmail()">
        <mat-card>
            <mat-card-title>Recupera tu contraseña</mat-card-title>
            <mat-card-subtitle>Indica tu dirección de correo electrónico y te enviaremos un email con mas información</mat-card-subtitle>
            <mat-card-content>

                <mat-form-field class="email-field">
                    <mat-label>Correo electrónico</mat-label>
                    <input matInput placeholder="example@example.com" type="email" autocomplete="off" [formControl]="emailFormControl" [errorStateMatcher]="matcher">
                    <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                        Introduce una dirección de email válida
                    </mat-error>
                    <mat-error *ngIf="emailFormControl.hasError('required')">
                        Campo obligatorio
                    </mat-error>
                </mat-form-field>

            </mat-card-content>
            <mat-card-actions class="acciones">
                <a mat-stroked-button routerLink="/login">Volver</a>
                <button mat-raised-button color="primary" type="submit"><mat-icon aria-hidden="false" aria-label="Forgot password">send</mat-icon> Enviar</button>
            </mat-card-actions>
        </mat-card>
    </form>
</ng-container>
<ng-template #toVerify>
    <h1>Recuperar contraseña</h1>
    <form class="email-form emailCard" (submit)="clickSubmitChangePwd()">
        <mat-card>
            <mat-card-title>Recupera tu contraseña</mat-card-title>
            <mat-card-subtitle>Indica una nueva contraseña para tu cuenta</mat-card-subtitle>
            <mat-card-content>

                <mat-form-field class="email-field">
                    <mat-label>Contraseña</mat-label>
                    <input matInput type="password" [formControl]="passwordFormControl" [errorStateMatcher]="matcher">
                    <mat-error *ngIf="passwordFormControl.hasError('required')">
                        Campo obligatorio
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="email-field">
                    <mat-label>Repite la contraseña</mat-label>
                    <input matInput type="password" [formControl]="passwordConfirmFormControl" [errorStateMatcher]="matcher">
                    <mat-error *ngIf="passwordConfirmFormControl.hasError('required')">
                        Campo obligatorio
                    </mat-error>
                </mat-form-field>

            </mat-card-content>
            <mat-card-actions class="acciones">
                <a mat-stroked-button routerLink="/login">Volver</a>
                <button mat-raised-button color="primary" type="submit"><mat-icon aria-hidden="false" aria-label="Forgot password">send</mat-icon> Enviar</button>
            </mat-card-actions>
        </mat-card>
    </form>
</ng-template>